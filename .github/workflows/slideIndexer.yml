on: [push]

jobs:
  slides-modified-check:
    name: Check if slides are modified
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./database

    steps:
      - name: Check out the repository to the runner
        uses: actions/checkout@v4 

      - name: Get modified files in the slides folder
        id: modified-check
        uses: tj-actions/changed-files@v34
        with:
          files: slides/**

      - name: Run step if any slide(s) modified
        if: steps.slides-modified-check.outputs.any_changed == 'true'
        run: echo slides modified

      - name: Prevent from running
        if: steps.slides-modified-check.outputs.any_changed != 'true'
        run: exit 1